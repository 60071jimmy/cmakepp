
function(target_register target_name)
  message("registering target ${target_name}")
  set(args ${ARGN})
  element(MAP)
    value(KEY name ${target_name})
    value(KEY sources ${ARGN})
  element(END target)
  map_append(global targets ${target})
  ref_print(${target})
endfunction()